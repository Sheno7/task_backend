{"remainingRequest":"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/vue-tutorial/node_modules/babel-loader/lib/index.js!/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/vue-tutorial/node_modules/cache-loader/dist/cjs.js??ref--0-0!/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/vue-tutorial/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/vue-tutorial/src/components/product/ProductForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/vue-tutorial/src/components/product/ProductForm.vue","mtime":1565137513214},{"path":"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/vue-tutorial/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/vue-tutorial/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/vue-tutorial/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/vue-tutorial/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'product-form',\n  props: {\n    categories: Array\n  },\n  data: function data() {\n    return {\n      error: false,\n      submitting: false,\n      success: false,\n      product: {\n        title: '',\n        category_id: '',\n        images: ''\n      },\n      images: [],\n      formData: new FormData()\n    };\n  },\n  computed: {\n    invalidTitle: function invalidTitle() {\n      return this.product.title === '';\n    }\n  },\n  methods: {\n    handleSubmit: function handleSubmit() {\n      this.clearStatus();\n      this.submitting = true;\n\n      if (this.invalidtitle) {\n        this.error = true;\n        return;\n      }\n\n      this.formData.append('title', this.product.title);\n      this.formData.append('category_id', this.product.category_id);\n      this.$emit('add:product', this.formData);\n      this.$refs.first.focus();\n      this.product = {\n        title: ''\n      };\n      this.success = true;\n      this.error = false;\n      this.submitting = false;\n    },\n    fileSelected: function fileSelected(event) {\n      this.formData.append('images', event.target.files[0]);\n    },\n    clearStatus: function clearStatus() {\n      this.success = false;\n      this.error = false;\n    }\n  }\n};",{"version":3,"sources":["ProductForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,UAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KADA;AAEA,MAAA,UAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA,KAHA;AAIA,MAAA,OAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,WAAA,EAAA,EAFA;AAGA,QAAA,MAAA,EAAA;AAHA,OAJA;AASA,MAAA,MAAA,EAAA,EATA;AAUA,MAAA,QAAA,EAAA,IAAA,QAAA;AAVA,KAAA;AAYA,GAlBA;AAoBA,EAAA,QAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,aAAA,KAAA,OAAA,CAAA,KAAA,KAAA,EAAA;AACA;AAHA,GApBA;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,WAAA,WAAA;AACA,WAAA,UAAA,GAAA,IAAA;;AAEA,UAAA,KAAA,YAAA,EAAA;AACA,aAAA,KAAA,GAAA,IAAA;AACA;AACA;;AACA,WAAA,QAAA,CAAA,MAAA,CAAA,OAAA,EAAA,KAAA,OAAA,CAAA,KAAA;AACA,WAAA,QAAA,CAAA,MAAA,CAAA,aAAA,EAAA,KAAA,OAAA,CAAA,WAAA;AAEA,WAAA,KAAA,CAAA,aAAA,EAAA,KAAA,QAAA;AACA,WAAA,KAAA,CAAA,KAAA,CAAA,KAAA;AACA,WAAA,OAAA,GAAA;AACA,QAAA,KAAA,EAAA;AADA,OAAA;AAGA,WAAA,OAAA,GAAA,IAAA;AACA,WAAA,KAAA,GAAA,KAAA;AACA,WAAA,UAAA,GAAA,KAAA;AACA,KApBA;AAqBA,IAAA,YArBA,wBAqBA,KArBA,EAqBA;AACA,WAAA,QAAA,CAAA,MAAA,CAAA,QAAA,EAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,KAvBA;AAyBA,IAAA,WAzBA,yBAyBA;AACA,WAAA,OAAA,GAAA,KAAA;AACA,WAAA,KAAA,GAAA,KAAA;AACA;AA5BA;AAzBA,CAAA","sourcesContent":["<template>\n  <div id=\"product-form\">\n    <form @submit.prevent=\"handleSubmit\" enctype=\"multipart/form-data\">\n\n      <label>product name</label>\n      <input\n        ref=\"first\"\n        type=\"text\"\n        :class=\"{ 'has-error': submitting && invalidName }\"\n        v-model=\"product.title\"\n        @focus=\"clearStatus\"\n        @keypress=\"clearStatus\"\n      >\n      <select v-model=\"product.category_id\">\n        <option :key=\"category.id\" :value=\"category.id\" v-for=\"category in categories\">{{ category.title }}</option>\n      </select>\n      <input type=\"file\" multiple @change=\"fileSelected\">\n      <p\n        v-if=\"error && submitting\"\n        class=\"error-message\"\n      >❗Please fill out all required fields</p>\n      <p\n        v-if=\"success\"\n        class=\"success-message\"\n      >✅ product successfully added</p>\n      <button>Add product</button>\n    </form>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'product-form',\n    props: {\n    categories: Array,\n  },\n  data() {\n    return {\n      error: false,\n      submitting: false,\n      success: false,\n      product: {\n        title: '',\n        category_id:'',\n        images:'',\n      },\n      images:[],\n       formData:new FormData()\n    }\n  },\n  \n  computed: {\n    invalidTitle() {\n      return this.product.title === ''\n    },\n  },\n  methods: {\n    handleSubmit() {\n      this.clearStatus()\n      this.submitting = true\n\n      if (this.invalidtitle) {\n        this.error = true\n        return\n      }\n      this.formData.append('title',this.product.title);\n      this.formData.append('category_id',this.product.category_id);\n \n       this.$emit('add:product', this.formData)\n      this.$refs.first.focus()\n      this.product = {\n        title: '',\n      }\n      this.success = true\n      this.error = false\n      this.submitting = false\n    },\n    fileSelected(event){\n       this.formData.append('images',event.target.files[0]);\n    },\n  \n    clearStatus() {\n      this.success = false\n      this.error = false\n    }\n  }}\n</script>\n\n<style scoped>\nform {\n  margin-bottom: 2rem;\n}\n\n[class*=\"-message\"] {\n  font-weight: 500;\n}\n\n.error-message {\n  color: #d33c40;\n}\n\n.success-message {\n  color: #32a95d;\n}\n</style>\n"],"sourceRoot":"src/components/product"}]}