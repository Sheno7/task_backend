{"remainingRequest":"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/vue-tutorial/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/vue-tutorial/src/components/category/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/vue-tutorial/src/components/category/index.vue","mtime":1565124578555},{"path":"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/vue-tutorial/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/vue-tutorial/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/vue-tutorial/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/vue-tutorial/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport CategoryTable from '@/components/category/CategoryTable.vue'\nimport CategoryForm from '@/components/category/CategoryForm.vue'\n\nexport default {\n  name: \"category\",\n  components: {\n    CategoryTable,\n    CategoryForm,\n  },\n  data() {\n    return {\n      categories: []\n    }\n  },\n\n  mounted() {\n    this.getCategories()\n  },\n\n  methods: {\n    async getCategories() {\n      try {\n        const response = await fetch('http://localhost:5000/api/category')\n        const data = await response.json()\n       await console.log('in dasi');\n        this.categories = data;\n      } catch (error) {\n        console.error(error)\n      }\n    },\n\n    async addCategory(category) {\n      try {\n        const response = await fetch('http://localhost:5000/api/category', {\n          method: 'POST',\n          body: JSON.stringify(category),\n          headers: { \"Content-type\": \"application/json\"}\n        });\n        const data = await response.json()\n        this.categories = data;\n        console.log(this.categories);\n      } catch (error) {\n        \n        console.error(error)\n      }\n    },\n\n    async editCategory(id, updatedCategory) {\n      try {\n        const response = await fetch(`http://localhost:5000/api/category/${id}`, {\n          method: 'PUT',\n          body: JSON.stringify(updatedCategory),\n          headers: { \"Content-type\": \"application/json\"}\n        })\n        const data = await response.json();\n        this.categories = data;\n      } catch (error) {\n        console.error(error)\n      }\n    },\n\n    async deleteCategory(id) {\n      try {\n        await fetch(`http://localhost:5000/api/category/${id}`, {\n          method: 'DELETE'\n        })\n        this.categories = this.categories.filter(category => category.id !== id)\n      } catch (error) {\n        console.error(error)\n      }\n    },\n  },\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/category","sourcesContent":["<template>\n  <div\n    id=\"app\"\n    class=\"small-container\"\n  >\n    <h1>Categories</h1>\n\n    <category-form @add:category=\"addCategory\" />\n    <category-table\n      :categories=\"categories\"\n      @delete:category=\"deleteCategory\"\n      @edit:category=\"editCategory\"\n    />\n  </div>\n</template>\n\n<script>\nimport CategoryTable from '@/components/category/CategoryTable.vue'\nimport CategoryForm from '@/components/category/CategoryForm.vue'\n\nexport default {\n  name: \"category\",\n  components: {\n    CategoryTable,\n    CategoryForm,\n  },\n  data() {\n    return {\n      categories: []\n    }\n  },\n\n  mounted() {\n    this.getCategories()\n  },\n\n  methods: {\n    async getCategories() {\n      try {\n        const response = await fetch('http://localhost:5000/api/category')\n        const data = await response.json()\n       await console.log('in dasi');\n        this.categories = data;\n      } catch (error) {\n        console.error(error)\n      }\n    },\n\n    async addCategory(category) {\n      try {\n        const response = await fetch('http://localhost:5000/api/category', {\n          method: 'POST',\n          body: JSON.stringify(category),\n          headers: { \"Content-type\": \"application/json\"}\n        });\n        const data = await response.json()\n        this.categories = data;\n        console.log(this.categories);\n      } catch (error) {\n        \n        console.error(error)\n      }\n    },\n\n    async editCategory(id, updatedCategory) {\n      try {\n        const response = await fetch(`http://localhost:5000/api/category/${id}`, {\n          method: 'PUT',\n          body: JSON.stringify(updatedCategory),\n          headers: { \"Content-type\": \"application/json\"}\n        })\n        const data = await response.json();\n        this.categories = data;\n      } catch (error) {\n        console.error(error)\n      }\n    },\n\n    async deleteCategory(id) {\n      try {\n        await fetch(`http://localhost:5000/api/category/${id}`, {\n          method: 'DELETE'\n        })\n        this.categories = this.categories.filter(category => category.id !== id)\n      } catch (error) {\n        console.error(error)\n      }\n    },\n  },\n}\n</script>\n\n<style>\nbutton {\n  background: #009435;\n  border: 1px solid #009435;\n}\n\nbutton:hover,\nbutton:active,\nbutton:focus {\n  background: #32a95d;\n  border: 1px solid #32a95d;\n}\n\n.small-container {\n  max-width: 680px;\n}\n</style>\n"]}]}